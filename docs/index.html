<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description"
      content="Half-Life Dedicated Server powered by Docker, supporting all the classic GoldSrc Half-Life games and mods-including Counter-Strike 1.6, Team Fortress Classic, Day of Defeat and more."
    />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="James Ives" />
    <meta name="theme-color" content="#3e4637" />
    <meta name="color-scheme" content="dark" />
    <meta property="og:title" content="Half-Life Dedicated Server with Docker" />
    <meta
      property="og:description"
      content="Half-Life Dedicated Server powered by Docker, supporting all the classic GoldSrc Half-Life games and mods-including Counter-Strike 1.6, Team Fortress Classic, Day of Defeat and more."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://jives.dev/hlds-docker/" />
    <meta property="og:image" content="https://jives.dev/hlds-docker/meta.png" />
    <meta property="og:image:alt" content="Half-Life Dedicated Server with Docker" />
    <meta property="og:locale" content="en_US" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Half-Life Dedicated Server with Docker" />
    <meta name="twitter:description" content="Half-Life Dedicated Server powered by Docker, supporting all the classic GoldSrc Half-Life games and mods-including Counter-Strike 1.6, Team Fortress Classic, Day of Defeat and more." />
    <meta name="twitter:image" content="https://jives.dev/hlds-docker/meta.png" />

    <link rel="icon" type="image/png" href="favicon.ico" />
    <link rel="apple-touch-icon" href="favicon.ico" />
    <link rel="canonical" href="https://jives.dev/hlds-docker" />

    <title>Half-Life Dedicated Server with Docker</title>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Half-Life Dedicated Server",
      "description": "Half-Life Dedicated Server powered by Docker, supporting all the classic GoldSrc Half-Life games and mods-including Counter-Strike 1.6, Team Fortress Classic, Day of Defeat and more. Easily extendable with custom configurations and plugins.",
      "url": "https://jives.dev/hlds-docker/",
      "image": "https://jives.dev/hlds-docker/meta.png",
      "applicationCategory": "Utility",
      "operatingSystem": "Docker",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    <style>
      :root {
        --bg-primary: #3e4637;
        --bg-secondary: #4c5844;
        --border-dark: #292d23;
        --border-light: #76806e;
        --font-main: Verdana, sans-serif;
        --font-size-base: 11px;
        --text-accent: #cfbf53;
        --text-link: #ffffff;
        --text-primary: #d8ded3;
        --text-secondary: #d0d0d0;
      }

      * {
        box-sizing: border-box;
      }

      a {
        color: var(--text-primary);
        text-decoration: underline;
        text-decoration-color: rgba(216, 222, 211, 0.5);
        text-underline-offset: 2px;
      }

      a:hover {
        text-decoration-color: rgba(216, 222, 211, 1);
      }

      body {
        align-items: center;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        display: flex;
        font-family: var(--font-main);
        justify-content: center;
        margin: 0;
        min-height: 100vh;
        padding: 20px;
      }

      button {
        -webkit-font-smoothing: none;
        background-color: var(--bg-secondary);
        border-bottom: 1px solid var(--border-dark);
        border-left: 1px solid var(--border-light);
        border-right: 1px solid var(--border-dark);
        border-top: 1px solid var(--border-light);
        color: white;
        cursor: pointer;
        font-family: var(--font-main);
        font-size: 11px;
        font-weight: lighter;
        min-width: 75px;
        padding: 4px 20px;
        text-align: center;
      }

      button:active {
        border-bottom: 1px solid var(--border-light);
        border-left: 1px solid var(--border-dark);
        border-right: 1px solid var(--border-light);
        border-top: 1px solid var(--border-dark);
        transform: none;
      }

      button:focus {
        outline: 1px dashed #292d23;
        outline-offset: -4px;
      }

      fieldset {
        border: 1px solid #5d6d52;
        border-radius: 2px;
        margin: 0;
        margin-top: 5px;
        padding: 8px;
        position: relative;
      }

      fieldset::before {
        content: "";
      }

      input[type="checkbox"] {
        -webkit-appearance: none;
        appearance: none;
        background-color: var(--bg-primary);
        border: 1px solid;
        border-color: var(--border-dark) var(--border-light) var(--border-light) var(--border-dark);
        cursor: pointer;
        height: 13px;
        margin-right: 4px;
        vertical-align: middle;
        width: 13px;
      }

      input[type="checkbox"]:checked {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12'%3E%3Ctext x='2' y='10' font-size='12' fill='%23c4b550' font-weight='bold'%3E%E2%9C%93%3C/text%3E%3C/svg%3E");
        background-position: center;
        background-repeat: no-repeat;
      }

      input[type="checkbox"]:focus {
        outline: 1px dotted black;
        outline-offset: -2px;
      }

      input[type="number"],
      input[type="password"],
      input[type="text"] {
        -webkit-appearance: none;
        appearance: none;
        background-color: #3e4637;
        border: 1px solid;
        border-bottom: 1px solid var(--border-light);
        border-left: 1px solid var(--border-dark);
        border-right: 1px solid var(--border-light);
        border-top: 1px solid var(--border-dark);
        box-shadow: none;
        color: var(--text-primary);
        font-family: var(--font-main);
        font-size: var(--font-size-base);
        padding: 4px;
        width: 100%;
      }

      input[type="number"]:focus,
      input[type="password"]:focus,
      input[type="text"]:focus,
      select:focus {
        outline: 1px dashed black;
        outline-offset: -2px;
      }

      legend {
        color: var(--text-accent);
        font-size: 11px;
        font-weight: normal;
        letter-spacing: 0;
        margin-left: 4px;
        padding: 0 4px;
      }

      main {
        align-items: center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        max-width: 800px;
        width: 100%;
      }

      pre.inset {
        background-color: var(--bg-primary);
        border-bottom: 1px solid var(--border-light);
        border-left: 1px solid var(--border-dark);
        border-right: 1px solid var(--border-light);
        border-top: 1px solid var(--border-dark);
        color: var(--text-primary);
        flex: 1;
        font-size: 10px;
        height: 220px;
        line-height: 1.3;
        margin: 0;
        overflow-y: auto;
        padding: 6px;
        white-space: pre-wrap;
        word-wrap: break-word;
      }

      select {
        -webkit-appearance: none;
        appearance: none;
        background-color: #3e4637;
        background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%226%22%20height%3D%223%22%20viewBox%3D%220%200%206%203%22%3E%3Cpath%20fill%3D%22%23d8ded3%22%20d%3D%22M0%200l3%203%203-3z%22%2F%3E%3C%2Fsvg%3E");
        background-position: right 8px center;
        background-repeat: no-repeat;
        border: 1px solid;
        border-bottom: 1px solid var(--border-light);
        border-left: 1px solid var(--border-dark);
        border-radius: 0;
        border-right: 1px solid var(--border-light);
        border-top: 1px solid var(--border-dark);
        box-shadow: none;
        color: var(--text-primary);
        font-family: var(--font-main);
        font-size: var(--font-size-base);
        padding: 4px;
        padding-right: 24px;
        width: 100%;
      }

      .action-button {
        background-color: var(--bg-secondary);
        border-bottom: 1px solid var(--border-dark);
        border-left: 1px solid var(--border-light);
        border-right: 1px solid var(--border-dark);
        border-top: 1px solid var(--border-light);
        color: var(--text-primary);
        cursor: pointer;
        display: inline-block;
        font-family: var(--font-main);
        font-size: var(--font-size-base);
        padding: 4px 16px;
        text-align: center;
        text-decoration: none;
        transition: background-color 0.1s;
        width: 100%;
      }

      .action-button:active {
        border-bottom: 1px solid var(--border-light);
        border-left: 1px solid var(--border-dark);
        border-right: 1px solid var(--border-light);
        border-top: 1px solid var(--border-dark);
      }

      .action-button:hover {
        background-color: var(--bg-secondary);
        text-decoration: none;
      }

      .action-buttons {
        display: flex;
        gap: 6px;
        grid-column: 1 / -1;
        justify-content: center;
        margin-top: 12px;
      }

      .action-buttons-column {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .button-container {
        display: flex;
        gap: 8px;
        justify-content: flex-end;
        width: 100%;
      }

      .button-row {
        border-top: 1px solid rgba(137, 146, 129, 0.5);
        display: flex;
        gap: 8px;
        grid-column: 1 / -1;
        justify-content: flex-end;
        margin-top: 12px;
        padding-top: 8px;
      }

      .button-spacer {
        flex: 1;
      }

      .checkbox-row {
        align-items: center;
        color: var(--text-primary);
        display: flex;
        font-size: var(--font-size-base);
        margin-bottom: 6px;
      }

      .checkbox-row label {
        align-items: center;
        cursor: pointer;
        display: flex;
        margin: 0;
      }

      .description {
        color: var(--text-primary);
        font-size: var(--font-size-base);
        grid-column: 1 / -1;
        margin-bottom: 8px;
        margin-top: 8px;
        padding-bottom: 8px;
      }

      .footer-container {
        align-items: center;
        display: flex;
        flex-direction: column;
        gap: 8px;
        justify-content: center;
        margin-top: 8px;
      }

      .footer-divider {
        align-items: center;
        color: var(--text-secondary);
        display: flex;
        font-size: 14px;
        line-height: 1;
        opacity: 0.5;
      }

      .footer-link {
        color: var(--text-secondary);
        font-size: 10px;
        text-align: center;
      }

      .footer-link img {
        border: none;
        display: block;
        height: 16px;
        width: 16px;
      }

      .footer-links {
        align-items: center;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        gap: 12px;
        justify-content: center;
        white-space: nowrap;
      }

      .footer-text {
        color: var(--text-secondary);
        font-size: 10px;
        margin: 0;
        text-align: center;
      }

      .form-label {
        color: var(--text-primary);
        font-size: var(--font-size-base);
        text-align: right;
      }

      .form-row {
        align-items: center;
        display: grid;
        gap: 8px;
        grid-template-columns: 100px 1fr;
        margin-bottom: 6px;
      }

      .left-column {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .output-header {
        align-items: center;
        display: flex;
        justify-content: space-between;
        margin-bottom: 6px;
      }

      .output-header legend {
        margin: 0;
      }

      .output-text {
        color: var(--text-secondary);
        font-size: 10px;
        margin-top: 6px;
        text-align: left;
      }

      .right-column {
        display: flex;
        flex-direction: column;
      }

      .sr-only {
        border: 0;
        clip: rect(0, 0, 0, 0);
        height: 1px;
        margin: -1px;
        overflow: hidden;
        padding: 0;
        position: absolute;
        width: 1px;
      }

      .title-bar {
        align-items: center;
        display: flex;
        height: 28px;
        margin-bottom: 2px;
        padding-right: 6px;
      }

      .title-bar-icon {
        background-image: url("steam.png");
        background-position: center;
        background-repeat: no-repeat;
        height: 16px;
        margin-left: 6px;
        margin-right: 6px;
        width: 16px;
      }

      .title-bar-text {
        color: #fff;
        flex-grow: 1;
        font-size: 11px;
        letter-spacing: 0.6px;
        line-height: 28px;
      }

      .window {
        background-color: var(--bg-secondary);
        border-bottom: 2px solid var(--border-dark);
        border-left: 2px solid var(--border-light);
        border-right: 2px solid var(--border-dark);
        border-top: 2px solid var(--border-light);
        box-shadow: none;
        padding: 2px;
        position: relative;
      }

      .window-button {
        background-color: var(--bg-secondary);
        border-bottom: 1px solid var(--border-dark);
        border-left: 1px solid var(--border-light);
        border-right: 1px solid var(--border-dark);
        border-top: 1px solid var(--border-light);
        cursor: pointer;
        display: block;
        height: 20px;
        margin: 0;
        min-width: 0;
        padding: 0;
        position: relative;
        width: 20px;
      }

      .window-button:active {
        border-bottom: 1px solid var(--border-light);
        border-left: 1px solid var(--border-dark);
        border-right: 1px solid var(--border-light);
        border-top: 1px solid var(--border-dark);
      }

      .window-button:active span {
        margin-left: 1px;
        margin-top: 1px;
      }

      .window-button:active span::after {
        transform: translate(calc(-50% + 1px), calc(-50% + 1px)) rotate(-45deg);
      }

      .window-button:active span::before,
      .window-button:active span::after {
        transform: translate(calc(-50% + 1px), calc(-50% + 1px)) rotate(45deg);
      }

      .window-button.close span::after {
        background-color: white;
        content: "";
        height: 1px;
        left: 50%;
        position: absolute;
        top: 50%;
        transform: translate(-50%, -50%) rotate(-45deg);
        width: 12px;
      }

      .window-button.close span::before {
        background-color: white;
        content: "";
        height: 1px;
        left: 50%;
        position: absolute;
        top: 50%;
        transform: translate(-50%, -50%) rotate(45deg);
        width: 12px;
      }

      .window-button span {
        display: block;
        height: 100%;
        position: relative;
        width: 100%;
      }

      .window-content {
        display: grid;
        gap: 12px;
        grid-template-columns: 1fr 1fr;
        padding: 10px;
      }

      .window-controls {
        cursor: pointer;
        display: flex;
        gap: 2px;
        position: absolute;
        right: 4px;
        top: 4px;
      }

      @media (max-width: 600px) {
        .form-label {
          margin-bottom: 2px;
          text-align: left;
        }

        .form-row {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 768px) {
        body {
          padding: 10px;
        }
      }

      @media (max-width: 900px) {
        .right-column {
          margin-top: 12px;
        }

        .window-content {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <h1 class="sr-only">Half-Life Dedicated Server with Docker</h1>
    <main>
      <div class="window">
        <div class="title-bar">
          <div class="title-bar-icon"></div>
          <div class="title-bar-text">Create Server</div>
          <div class="window-controls">
            <button class="window-button close" aria-label="Close"><span></span></button>
          </div>
        </div>
        <div class="window-content">
          <div class="description">
            <a href="https://help.steampowered.com/en/faqs/view/081A-106F-B906-1A7A" target="_blank" rel="noopener noreferrer">Half-Life Dedicated Server</a> powered by <a href="https://www.docker.com" target="_blank" rel="noopener noreferrer">Docker</a>, supporting all the classic <a href="https://developer.valvesoftware.com/wiki/GoldSrc" target="_blank" rel="noopener noreferrer">GoldSrc</a> Half-Life games and mods-including Counter-Strike 1.6, Team Fortress Classic, Day of Defeat and more. Easily extendable with custom configurations and plugins. Before starting, ensure you're using a non-ARM architecture machine and you have the <a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker daemon</a> and the <a href="https://docs.docker.com/engine/reference/commandline/cli/" target="_blank" rel="noopener noreferrer">Docker CLI tool</a> installed and available.
          </div>
          <div class="left-column">
            <fieldset>
              <legend>Game Configuration</legend>

              <div class="form-row">
                <label class="form-label" for="game">Game</label>
                <select id="game">
                  <option value="valve">Half-Life</option>
                  <option value="cstrike">Counter-Strike</option>
                  <option value="czero">Counter-Strike Condition Zero</option>
                  <option value="dmc">Deathmatch Classic</option>
                  <option value="gearbox">Half-Life Opposing Force</option>
                  <option value="ricochet">Ricochet</option>
                  <option value="dod">Day of Defeat</option>
                  <option value="tfc">Team Fortress Classic</option>
                  <option value="valve-legacy">Half-Life (Legacy)</option>
                  <option value="cstrike-legacy">
                    Counter-Strike (Legacy)
                  </option>
                  <option value="czero-legacy">
                    Counter-Strike Condition Zero (Legacy)
                  </option>
                  <option value="tfc-legacy">
                    Team Fortress Classic (Legacy)
                  </option>
                </select>
              </div>

              <div class="form-row">
                <label class="form-label" for="map" id="map-label"
                  >Starting Map</label
                >
                <select id="map" aria-labelledby="map-label"></select>
              </div>
            </fieldset>

            <fieldset>
              <legend>Server Settings</legend>

              <div class="form-row">
                <label class="form-label" for="servername">Server Name</label>
                <input
                  type="text"
                  id="servername"
                  value="Half-Life Dedicated Server"
                />
              </div>

              <div class="form-row">
                <label class="form-label" for="password">Password</label>
                <input type="password" id="password" value="" />
              </div>

              <div class="form-row">
                <label class="form-label" for="maxplayers">Max Players</label>
                <input
                  type="number"
                  id="maxplayers"
                  value="12"
                  min="1"
                  max="32"
                />
              </div>

              <div class="form-row">
                <label class="form-label" for="rcon">RCON Password</label>
                <input type="password" id="rcon" value="" />
              </div>
            </fieldset>

            <fieldset>
              <legend>Startup Options</legend>

              <div class="checkbox-row">
                <label>
                  <input type="checkbox" id="lanmode" />
                  LAN Mode (sv_lan 1)
                </label>
              </div>

              <div class="checkbox-row">
                <label>
                  <input type="checkbox" id="cheats" />
                  Enable Cheats (sv_cheats 1)
                </label>
              </div>
            </fieldset>

            <fieldset>
              <legend>Advanced Setup</legend>
              <div class="action-buttons-column">
                <a
                  href="https://github.com/JamesIves/hlds-docker/blob/beta/config/README.md"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="action-button"
                >
                  Server Configs and Plugins
                </a>
                <a
                  href="https://github.com/JamesIves/hlds-docker/blob/beta/mods/README.md"
                  target="_blank"
                  class="action-button"
                >
                  Running Custom Mods
                </a>
                <a
                  href="https://github.com/JamesIves/hlds-docker/blob/beta/container/README.md"
                  target="_blank"
                  class="action-button"
                >
                  Build a Custom Image
                </a>
              </div>
            </fieldset>

          
            <fieldset>
              <legend>Learn More</legend>
              <div class="action-buttons-column">
                <a
                  href="https://jamesiv.es/blog/experiment/docker/2024/06/20/half-life-dedicated-server-with-docker"
                  target="_blank"
                  class="action-button"
                >
                  Read Blog Post
                </a>
                <a
                  href="https://github.com/JamesIves/hlds-docker"
                  target="_blank"
                  class="action-button"
                >
                  Contribute on GitHub
                </a>
              </div>
            </fieldset>
          </div>

          <div class="right-column">
            <div class="output-header">
              <legend>Docker Command</legend>
            </div>
            <pre class="inset" id="output"></pre>
            <p class="output-text">
              Copy and paste this command into your terminal to start your
              Half-Life Dedicated Server.
            </p>
          </div>

          <div class="button-row">
            <div class="button-container">
              <div class="button-spacer"></div>
              <button onclick="copyToClipboard()">Copy Command</button>
            </div>
          </div>
        </div>
      </div>
    </div>

      <div class="footer-container">
        <a
          href="https://jamesiv.es"
          target="_blank"
          title="Built by Jives"
          class="footer-link"
        >
          <img width="16" height="16" src="icon.png" alt="James Ives" />
        </a>
      </div>
    </main>

    <script>
      const clickSound = new Audio("click.mp3");
      const noSound = new Audio("no.mp3");
      noSound.volume = 0.6;

      // Map data for each game
      const mapData = {
        valve: [
          "bounce",
          "contamination",
          "crossfire",
          "datacore",
          "disposal",
          "doublecross",
          "frenzy",
          "gasworks",
          "lambda_bunker",
          "pool_party",
          "rapidcore",
          "rocket_frenzy",
          "rustmill",
          "snark_pit",
          "stalkyard",
          "subtransit",
          "undertow",
          "xen_dm",
        ],
        cstrike: [
          "as_oilrig",
          "cs_747",
          "cs_assault",
          "cs_backalley",
          "cs_estate",
          "cs_havana",
          "cs_italy",
          "cs_militia",
          "cs_office",
          "cs_siege",
          "de_airstrip",
          "de_aztec",
          "de_cbble",
          "de_chateau",
          "de_dust",
          "de_dust2",
          "de_inferno",
          "de_nuke",
          "de_piranesi",
          "de_storm",
          "de_survivor",
          "de_torn",
          "de_train",
          "de_vertigo",
        ],
        czero: [
          "as_oilrig",
          "cs_747",
          "cs_assault",
          "cs_backalley",
          "cs_downed_cz",
          "cs_estate",
          "cs_havana",
          "cs_havana_cz",
          "cs_italy",
          "cs_italy_cz",
          "cs_militia",
          "cs_militia_cz",
          "cs_office",
          "cs_office_cz",
          "cs_siege",
          "de_airstrip",
          "de_airstrip_cz",
          "de_aztec",
          "de_aztec_cz",
          "de_cbble",
          "de_cbble_cz",
          "de_chateau",
          "de_chateau_cz",
          "de_dust",
          "de_dust_cz",
          "de_dust2",
          "de_dust2_cz",
          "de_inferno",
          "de_inferno_cz",
          "de_nuke",
          "de_piranesi",
          "de_piranesi_cz",
          "de_prodigy",
          "de_prodigy_cz",
          "de_sienna_cz",
          "de_stadium_cz",
          "de_storm",
          "de_survivor",
          "de_tides_cz",
          "de_torn",
          "de_torn_cz",
          "de_train",
          "de_truth_cz",
          "de_vertigo",
          "de_vostok_cz",
        ],
        dmc: [
          "dcdm5",
          "dmc_dm2",
          "dmc_dm3",
          "dmc_dm4",
          "dmc_dm6",
          "dmc_e1m2",
          "p_se_3",
        ],
        gearbox: [
          "op4_bootcamp",
          "op4_datacore",
          "op4_demise",
          "op4_disposal",
          "op4_gasworks",
          "op4_kbase",
          "op4_kndyone",
          "op4_meanie",
          "op4_outpost",
          "op4_park",
          "op4_repent",
          "op4_rubble",
          "op4_xendance",
          "op4cp_park",
          "op4ctf_biodomes",
          "op4ctf_chasm",
          "op4ctf_crash",
          "op4ctf_dam",
          "op4ctf_gunyard",
          "op4ctf_hairball",
          "op4ctf_mortar",
          "op4ctf_power",
          "op4ctf_repent",
          "op4ctf_wonderland",
          "op4ctf_xendance",
        ],
        ricochet: ["rc_arena", "rc_deathmatch", "rc_deathmatch2"],
        dod: [
          "dod_anzio",
          "dod_avalanche",
          "dod_caen",
          "dod_charlie",
          "dod_chemille",
          "dod_donner",
          "dod_escape",
          "dod_falaise",
          "dod_flash",
          "dod_flugplatz",
          "dod_forest",
          "dod_glider",
          "dod_jagd",
          "dod_kalt",
          "dod_kraftstoff",
          "dod_merderet",
          "dod_northbound",
          "dod_saints",
          "dod_sturm",
          "dod_vicenza",
          "dod_zalec",
        ],
        tfc: [
          "2fort",
          "avanti",
          "badlands",
          "casbah",
          "crossover2",
          "cz2",
          "dustbowl",
          "epicenter",
          "flagrun",
          "hunted",
          "push",
          "ravelin",
          "rock2",
          "warpath",
          "well",
        ],
      };

      // Assign legacy versions after object is defined
      mapData["valve-legacy"] = mapData["valve"];
      mapData["cstrike-legacy"] = mapData["cstrike"];
      mapData["czero-legacy"] = mapData["czero"];
      mapData["tfc-legacy"] = mapData["tfc"];

      function playButtonSound() {
        clickSound.currentTime = 0;
        clickSound.play().catch(() => {
          // Silently ignore if audio fails to play
        });
      }

      function updateMapOptions() {
        const game = document.getElementById("game").value;
        const mapSelect = document.getElementById("map");
        const maps = mapData[game] || [];

        mapSelect.innerHTML = "";
        maps.forEach((map) => {
          const option = document.createElement("option");
          option.value = map;
          option.textContent = map;
          mapSelect.appendChild(option);
        });
      }

      function updateCommand() {
        const game = document.getElementById("game").value;
        const servername = document.getElementById("servername").value;
        const map = document.getElementById("map").value;
        const maxplayersInput = document.getElementById("maxplayers");
        let maxplayers = parseInt(maxplayersInput.value, 10);
        const rcon = document.getElementById("rcon").value;
        const password = document.getElementById("password").value;
        const lanmode = document.getElementById("lanmode").checked;
        const cheats = document.getElementById("cheats").checked;

        // Ensure maxplayers has a minimum value of 1 and keep the input field in sync
        if (!Number.isFinite(maxplayers) || maxplayers < 1) {
          maxplayers = 1;
          maxplayersInput.value = String(maxplayers);
        }

        let command = `docker run -d -ti \\
  --name hlds \\
  -v "$(pwd)/config:/temp/config" \\
  -v "$(pwd)/mods:/temp/mods" \\
  -p 27015:27015/udp \\
  -p 27015:27015 \\
  jives/hlds:${game} \\
  +log on`;

        if (rcon) {
          command += ` +rcon_password ${rcon}`;
        }

        command += ` +hostname "${servername}" +maxplayers ${maxplayers}`;

        if (password) {
          command += ` +sv_password "${password}"`;
        }

        if (lanmode) {
          command += ` +sv_lan 1`;
        }

        if (cheats) {
          command += ` +sv_cheats 1`;
        }

        command += ` +map ${map}`;

        document.getElementById("output").textContent = command;
      }

      function copyToClipboard() {
        playButtonSound();
        const output = document.getElementById("output").textContent;
        navigator.clipboard.writeText(output);
      }

      // Auto-update on input change
      document.getElementById("game").addEventListener("change", () => {
        updateMapOptions();
        updateCommand();
      });
      document
        .getElementById("servername")
        .addEventListener("input", updateCommand);
      document.getElementById("map").addEventListener("change", updateCommand);
      document
        .getElementById("maxplayers")
        .addEventListener("input", updateCommand);
      document.getElementById("rcon").addEventListener("input", updateCommand);
      document
        .getElementById("password")
        .addEventListener("input", updateCommand);
      document
        .getElementById("lanmode")
        .addEventListener("change", updateCommand);
      document
        .getElementById("cheats")
        .addEventListener("change", updateCommand);

      // Initial setup
      updateMapOptions();
      updateCommand();

      // Attach sound effects to interactive elements (excluding text inputs)
      const interactiveElements = document.querySelectorAll(
        "button:not(.close), a, select, input[type='checkbox'], input[type='radio']"
      );
      interactiveElements.forEach((element) => {
        element.addEventListener("mousedown", playButtonSound);
      });
      
      // Attach "no" sound to close button
      const closeBtn = document.querySelector(".window-button.close");
      if (closeBtn) {
        closeBtn.addEventListener("mousedown", () => {
          noSound.currentTime = 0;
          noSound.play().catch(e => console.log("Audio play failed:", e));
        });
      }
      
      // Attach wise sound to footer icon
      const wiseSound = new Audio("wise.mp3");
      wiseSound.volume = 0.6;
      const footerLink = document.querySelector(".footer-link");
      if (footerLink) {
        footerLink.addEventListener("click", (e) => {
          wiseSound.currentTime = 0;
          wiseSound.play().catch(e => console.log("Audio play failed:", e));
        });
      }

    console.log(
      `%c    ▄█  ▄█   ▄█    █▄     ▄████████    ▄████████ 
%c   ███ ███  ███    ███   ███    ███   ███    ███ 
%c   ███ ███▌ ███    ███   ███    █▀    ███    █▀  
%c   ███ ███▌ ███    ███  ▄███▄▄▄       ███        
%c   ███ ███▌ ███    ███ ▀▀███▀▀▀     ▀███████████ 
%c   ███ ███  ███    ███   ███    █▄           ███ 
%c   ███ ███  ███    ███   ███    ███    ▄█    ███ 
%c█▄ ▄███ █▀    ▀██████▀    ██████████  ▄████████▀  
%c▀▀▀▀▀▀  

%chttps://jives.dev
      `,
      'color: #e4fa56',
      'color: #e4fa56',
      'color: #e4fa56',
      'color: #a2db47',
      'color: #a2db47',
      'color: #a2db47',
      'color: #52ad3e',
      'color: #52ad3e',
      'color: #52ad3e',
      'color: #f98973',
    )
    </script>
  </body>
</html>
